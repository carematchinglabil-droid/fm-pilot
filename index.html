<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FlowMatch - ×˜×•×¤×¡ ×”×•×¨×™×</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;600;700;800&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary: #3d7bfd;
      --primary-light: #e0f2fe;
      --secondary: #22c1c3;
      --success: #10b981;
      --info: #3b82f6;
      --info-light: #dbeafe;
      --error: #ef4444;
      --text: #1f2937;
      --text-secondary: #6b7280;
      --surface: #f9fafb;
      --border: #e5e7eb;
      --white: #ffffff;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Assistant', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 24px;
      color: var(--text);
    }
    
    .container {
      max-width: 720px;
      margin: 0 auto;
      background: white;
      border-radius: 24px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.15);
      overflow: hidden;
    }
    
    /* Header */
    .header {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 32px;
      text-align: center;
    }
    
    .badge {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      padding: 6px 16px;
      border-radius: 999px;
      font-size: 0.875rem;
      font-weight: 600;
      margin-bottom: 12px;
      backdrop-filter: blur(10px);
    }
    
    .header h1 {
      font-size: 2rem;
      font-weight: 800;
      margin-bottom: 8px;
    }
    
    .header p {
      opacity: 0.95;
    }
    
    /* Important Notice */
    .notice {
      margin: 24px 32px;
      padding: 20px;
      background: linear-gradient(135deg, var(--info-light) 0%, #bfdbfe 100%);
      border-right: 4px solid var(--info);
      border-radius: 12px;
      animation: slideDown 0.5s;
    }
    
    .notice-title {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 700;
      color: #1e3a8a;
      margin-bottom: 12px;
      font-size: 1.05rem;
    }
    
    .notice-icon {
      font-size: 1.5rem;
    }
    
    .notice-text {
      font-size: 0.95rem;
      color: #1e40af;
      line-height: 1.6;
    }
    
    .notice-text strong {
      color: #1e3a8a;
    }
    
    /* Progress */
    .progress-container {
      padding: 20px 32px;
      background: var(--surface);
      border-bottom: 1px solid var(--border);
    }
    
    .progress-text {
      text-align: center;
      font-size: 0.875rem;
      color: var(--text-secondary);
      margin-bottom: 8px;
    }
    
    .progress-bar {
      width: 100%;
      height: 8px;
      background: var(--border);
      border-radius: 999px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      transition: width 0.3s;
      width: 0%;
    }
    
    /* Form */
    .form-content {
      padding: 32px;
      max-height: 60vh;
      overflow-y: auto;
    }
    
    .section {
      margin-bottom: 32px;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.3s;
    }
    
    .section.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    .section-title {
      font-size: 1.125rem;
      font-weight: 700;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 0.95rem;
    }
    
    .required {
      color: var(--error);
    }
    
    .hint {
      font-size: 0.875rem;
      color: var(--text-secondary);
      margin-top: 4px;
    }
    
    input[type="text"],
    input[type="tel"],
    select,
    textarea {
      width: 100%;
      padding: 12px 16px;
      font-size: 1rem;
      font-family: 'Assistant', sans-serif;
      border: 2px solid var(--border);
      border-radius: 12px;
      transition: all 0.2s;
    }
    
    input:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(61, 123, 253, 0.1);
    }
    
    select {
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%236b7280' stroke-width='2'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: left 16px center;
      padding-left: 40px;
    }
    
    textarea {
      resize: vertical;
      min-height: 80px;
    }
    
    /* Checkboxes */
    .checkbox-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }
    
    .checkbox-chip {
      position: relative;
    }
    
    .checkbox-chip input {
      position: absolute;
      opacity: 0;
    }
    
    .checkbox-chip label {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 10px 16px;
      background: var(--surface);
      border: 2px solid var(--border);
      border-radius: 999px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      margin: 0;
    }
    
    .checkbox-chip input:checked + label {
      background: var(--primary);
      border-color: var(--primary);
      color: white;
    }
    
    .checkbox-chip label:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
    }
    
    /* Radio */
    .radio-group {
      display: flex;
      gap: 12px;
      margin-top: 8px;
    }
    
    .radio-option {
      flex: 1;
      position: relative;
    }
    
    .radio-option input {
      position: absolute;
      opacity: 0;
    }
    
    .radio-option label {
      display: block;
      padding: 12px;
      background: var(--surface);
      border: 2px solid var(--border);
      border-radius: 12px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
      margin: 0;
    }
    
    .radio-option input:checked + label {
      background: var(--primary);
      border-color: var(--primary);
      color: white;
    }
    
    /* Sub-specs */
    .sub-container {
      margin-top: 16px;
      padding: 16px;
      background: var(--primary-light);
      border-radius: 12px;
      border: 2px dashed var(--primary);
      display: none;
    }
    
    .sub-container.show {
      display: block;
      animation: slideDown 0.3s;
    }
    
    .sub-title {
      font-size: 0.875rem;
      font-weight: 700;
      color: #1e40af;
      margin-bottom: 8px;
    }
    
    /* Alert */
    .alert {
      margin: 16px 0;
      padding: 16px;
      border-radius: 12px;
      display: none;
    }
    
    .alert.show {
      display: flex;
      align-items: start;
      gap: 12px;
      animation: slideDown 0.3s;
    }
    
    .alert-success {
      background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
      border-left: 4px solid var(--success);
    }
    
    .alert-icon {
      font-size: 1.5rem;
    }
    
    .alert-title {
      font-weight: 700;
      color: #065f46;
      margin-bottom: 4px;
    }
    
    .alert-text {
      font-size: 0.95rem;
      color: #047857;
    }
    
    /* Consent Box */
    .consent-box {
      margin: 24px 0;
      padding: 20px;
      background: var(--surface);
      border: 2px solid var(--border);
      border-radius: 12px;
    }
    
    .consent-checkbox {
      display: flex;
      align-items: start;
      gap: 12px;
      cursor: pointer;
    }
    
    .consent-checkbox input[type="checkbox"] {
      margin-top: 4px;
      width: 20px;
      height: 20px;
      cursor: pointer;
      flex-shrink: 0;
    }
    
    .consent-text {
      font-size: 0.95rem;
      line-height: 1.6;
      color: var(--text);
    }
    
    .consent-text strong {
      color: var(--text);
      font-weight: 700;
    }
    
    .consent-text a {
      color: var(--primary);
      text-decoration: underline;
      font-weight: 600;
    }
    
    .consent-text ul {
      margin: 8px 0;
      padding-right: 20px;
    }
    
    .consent-text li {
      margin: 4px 0;
    }
    
    /* Button */
    .btn {
      width: 100%;
      padding: 16px;
      font-size: 1.125rem;
      font-weight: 700;
      font-family: 'Assistant', sans-serif;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      box-shadow: 0 4px 12px rgba(61, 123, 253, 0.3);
    }
    
    .btn:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(61, 123, 253, 0.4);
    }
    
    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    /* Loading & Success */
    .loading,
    .success {
      display: none;
      text-align: center;
      padding: 48px 32px;
    }
    
    .loading.show,
    .success.show {
      display: block;
    }
    
    .spinner {
      border: 4px solid var(--border);
      border-top-color: var(--primary);
      border-radius: 50%;
      width: 48px;
      height: 48px;
      animation: spin 1s linear infinite;
      margin: 0 auto 16px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    @keyframes slideDown {
      from { opacity: 0; max-height: 0; }
      to { opacity: 1; max-height: 1000px; }
    }
    
    .success-icon {
      font-size: 4rem;
      margin-bottom: 16px;
      animation: bounceIn 0.5s;
    }
    
    @keyframes bounceIn {
      0% { transform: scale(0); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    
    .success h2 {
      color: var(--success);
      margin-bottom: 12px;
    }
    
    .success p {
      color: var(--text-secondary);
      line-height: 1.6;
    }
    
    /* Toast */
    .toast {
      position: fixed;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: white;
      padding: 16px 24px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      display: flex;
      align-items: center;
      gap: 12px;
      z-index: 1000;
      transition: all 0.3s;
      border-left: 4px solid var(--error);
    }
    
    .toast.show {
      transform: translateX(-50%) translateY(0);
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      body { padding: 16px; }
      .header h1 { font-size: 1.5rem; }
      .form-content { padding: 24px; max-height: none; }
      .notice { margin: 16px 24px; padding: 16px; }
      .radio-group { flex-direction: column; }
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="badge">ğŸ¯ ×¤×™×™×œ×•×˜ - ×‘×“×™×§×ª ×”×ª×××”</div>
      <h1>××¦××• ××ª ×”××˜×¤×œ/×ª ×”××•×©×œ×/×ª</h1>
      <p>××™×œ×•×™ ×§×¦×¨ ×©×œ ×›-2 ×“×§×•×ª â€¢ ×××•×‘×˜×— ×•××•×¦×¤×Ÿ</p>
    </div>
    
    <!-- Important Notice -->
    <div class="notice">
      <div class="notice-title">
        <span class="notice-icon">ğŸ’¡</span>
        <span>×—×©×•×‘ ×œ×“×¢×ª</span>
      </div>
      <div class="notice-text">
        <strong>FlowMatch ×”×™× ×¤×œ×˜×¤×•×¨××ª ×”×ª×××” ×‘×œ×‘×“</strong> ×•××™× ×” ×¡×¤×§×™×ª ×©×™×¨×•×ª×™ ×‘×¨×™××•×ª.
        ××™× × ×• ×××—×¡× ×™× ××™×“×¢ ×¨×¤×•××™ ××• ×¨×©×•××•×ª ×¨×¤×•××™×•×ª.
        ×”××™×“×¢ ×©××ª× ××•×¡×¨×™× ××©××© ××š ×•×¨×§ ×œ×™×¦×™×¨×ª ×§×©×¨ ×¨××©×•× ×™ ×¢× ××˜×¤×œ×™× ××ª××™××™× ×‘××–×•×¨×›×.
      </div>
    </div>
    
    <!-- Progress -->
    <div class="progress-container">
      <div class="progress-text">×”×ª×§×“××•×ª: <span id="pct">0%</span></div>
      <div class="progress-bar">
        <div class="progress-fill" id="progress"></div>
      </div>
    </div>
    
    <!-- Form -->
    <div class="form-content">
      <form id="form">
        
        <!-- ×¤×¨×˜×™ ×§×©×¨ -->
        <div class="section">
          <h3 class="section-title">
            <span>ğŸ‘¤</span>
            ×¤×¨×˜×™ ×§×©×¨
          </h3>
          
          <div class="form-group">
            <label>×©× ×¤×¨×˜×™ (××•×¤×¦×™×•× ×œ×™)</label>
            <input type="text" id="childName" placeholder="×©× ×”×™×œ×“/×”" />
            <div class="hint">×¢×•×–×¨ ×œ× ×• ×œ×¤× ×•×ª ××œ×™×›× ××™×©×™×ª</div>
          </div>
          
          <div class="form-group">
            <label><span class="required">*</span> ×©× ×”×”×•×¨×”</label>
            <input type="text" id="parentName" placeholder="×”×©× ×©×œ×š" required />
          </div>
          
          <div class="form-group">
            <label><span class="required">*</span> ×˜×œ×¤×•×Ÿ × ×™×™×“</label>
            <input type="tel" id="phone" placeholder="050-1234567" required />
            <div class="hint">×œ×ª×™××•× ××”×™×¨ ×•× ×•×—</div>
          </div>
          
          <div class="form-group">
            <label><span class="required">*</span> ×’×™×œ ×”×™×œ×“/×”</label>
            <select id="age" required>
              <option value="">×‘×—×¨/×™ ×§×‘×•×¦×ª ×’×™×œ</option>
              <option value="0-3">0-3 ×©× ×™×</option>
              <option value="3-6">3-6 ×©× ×™×</option>
              <option value="6-9">6-9 ×©× ×™×</option>
              <option value="9-12">9-12 ×©× ×™×</option>
              <option value="12-16">12-16 ×©× ×™×</option>
              <option value="16+">16+ ×©× ×™×</option>
            </select>
          </div>
        </div>
        
        <!-- ××™×§×•× -->
        <div class="section">
          <h3 class="section-title">
            <span>ğŸ“</span>
            ××™×§×•× ×•×–××™× ×•×ª
          </h3>
          
          <div class="form-group">
            <label><span class="required">*</span> ××–×•×¨ ××’×•×¨×™×</label>
            <select id="region" required>
              <option value="">×‘×—×¨/×™ ××–×•×¨</option>
              <option value="××¨×›×–">××¨×›×–</option>
              <option value="×©×¨×•×Ÿ">×©×¨×•×Ÿ</option>
              <option value="×©×¤×œ×”">×©×¤×œ×”</option>
              <option value="×™×¨×•×©×œ×™× ×•×”×¡×‘×™×‘×”">×™×¨×•×©×œ×™× ×•×”×¡×‘×™×‘×”</option>
              <option value="×¦×¤×•×Ÿ">×¦×¤×•×Ÿ</option>
              <option value="×“×¨×•×">×“×¨×•×</option>
              <option value="× ×’×‘">× ×’×‘</option>
              <option value="××–×•×¨ ×—×™×¤×”">××–×•×¨ ×—×™×¤×”</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>×©×¤×ª ×˜×™×¤×•×œ</label>
            <select id="language">
              <option value="×¢×‘×¨×™×ª">×¢×‘×¨×™×ª</option>
              <option value="×× ×’×œ×™×ª">×× ×’×œ×™×ª</option>
              <option value="×¨×•×¡×™×ª">×¨×•×¡×™×ª</option>
              <option value="×¢×¨×‘×™×ª">×¢×¨×‘×™×ª</option>
            </select>
          </div>
        </div>
        
        <!-- ×¡×•×’ ×˜×™×¤×•×œ -->
        <div class="section">
          <h3 class="section-title">
            <span>ğŸ¯</span>
            ×¡×•×’ ×”×˜×™×¤×•×œ
          </h3>
          
          <div class="form-group">
            <label><span class="required">*</span> ××™×–×” ××§×¦×•×¢ ××—×¤×©×™×?</label>
            <select id="therapy" required>
              <option value="">×‘×—×¨/×™ ××§×¦×•×¢</option>
              <option value="×§×œ×™× ××•×ª ×ª×§×©×•×¨×ª">×§×œ×™× ××•×ª ×ª×§×©×•×¨×ª</option>
              <option value="×¨×™×¤×•×™ ×‘×¢×™×¡×•×§">×¨×™×¤×•×™ ×‘×¢×™×¡×•×§</option>
              <option value="×¤×™×–×™×•×ª×¨×¤×™×”">×¤×™×–×™×•×ª×¨×¤×™×”</option>
              <option value="×˜×™×¤×•×œ ×¨×’×©×™">×˜×™×¤×•×œ ×¨×’×©×™</option>
            </select>
            
            <div class="sub-container" id="subContainer">
              <div class="sub-title">â­ ×ª×—×•××™ ×¢× ×™×™×Ÿ (××•×¤×¦×™×•× ×œ×™)</div>
              <div class="checkbox-chips" id="subChips"></div>
            </div>
          </div>
          
          <div class="form-group">
            <label>××” ×—×©×•×‘ ×œ×›× ×‘××˜×¤×œ/×ª? (××•×¤×¦×™×•× ×œ×™)</label>
            <textarea 
              id="difficulty" 
              placeholder="×œ×“×•×’××”: × ×™×¡×™×•×Ÿ ×¢× ×™×œ×“×™× ×‘×’×™×œ ×‘×™×ª ×¡×¤×¨, ×§×œ×™× ×™×§×” × ×’×™×©×”, ×–××™× ×•×ª ×‘×©×¢×•×ª ××—×”×´×¦..."
              rows="3"
            ></textarea>
            <div class="hint">×¡×¤×¨×• ×œ× ×• ×¢×œ ×”×”×¢×“×¤×•×ª ×©×œ×›× (×œ×œ× ×¤×¨×˜×™× ×¨×¤×•××™×™×)</div>
          </div>
        </div>
        
        <!-- ×”×¢×“×¤×•×ª -->
        <div class="section">
          <h3 class="section-title">
            <span>âš™ï¸</span>
            ×”×¢×“×¤×•×ª
          </h3>
          
          <div class="form-group">
            <label>××” ×”×›×™ ×—×©×•×‘ ×œ×›×? (×‘×—×¨/×™ ××¡×¤×¨)</label>
            <div class="checkbox-chips">
              <div class="checkbox-chip">
                <input type="checkbox" id="p1" value="âš¡ ×–××™× ×•×ª ××”×™×¨×”">
                <label for="p1"><span>âš¡</span> ×–××™× ×•×ª ××”×™×¨×”</label>
              </div>
              <div class="checkbox-chip">
                <input type="checkbox" id="p2" value="ğŸ’» ×˜×™×¤×•×œ ××•× ×œ×™×™×Ÿ">
                <label for="p2"><span>ğŸ’»</span> ×˜×™×¤×•×œ ××•× ×œ×™×™×Ÿ</label>
              </div>
              <div class="checkbox-chip">
                <input type="checkbox" id="p3" value="ğŸ  ×”×’×¢×” ×œ×‘×™×ª">
                <label for="p3"><span>ğŸ </span> ×”×’×¢×” ×œ×‘×™×ª</label>
              </div>
              <div class="checkbox-chip">
                <input type="checkbox" id="p4" value="ğŸ“ ×§×œ×™× ×™×§×” × ×’×™×©×”">
                <label for="p4"><span>ğŸ“</span> ×§×œ×™× ×™×§×” × ×’×™×©×”</label>
              </div>
              <div class="checkbox-chip">
                <input type="checkbox" id="p5" value="ğŸ“ × ×™×¡×™×•×Ÿ ×¢× ×—×™× ×•×š ××™×•×—×“">
                <label for="p5"><span>ğŸ“</span> × ×™×¡×™×•×Ÿ ×¢× ×—×™× ×•×š ××™×•×—×“</label>
              </div>
              <div class="checkbox-chip">
                <input type="checkbox" id="p6" value="ğŸ’° ××—×™×¨ × ×•×—">
                <label for="p6"><span>ğŸ’°</span> ××—×™×¨ × ×•×—</label>
              </div>
              <div class="checkbox-chip">
                <input type="checkbox" id="p7" value="â¤ï¸ ×“×’×© ×¨×’×©×™">
                <label for="p7"><span>â¤ï¸</span> ×“×’×© ×¨×’×©×™</label>
              </div>
            </div>
          </div>
          
          <div class="form-group">
            <label>××ª×™ ×ª×¨×¦×• ×œ×”×ª×—×™×œ?</label>
            <div class="radio-group">
              <div class="radio-option">
                <input type="radio" id="t1" name="timing" value="×‘×”×§×“×" checked>
                <label for="t1">×‘×”×§×“×</label>
              </div>
              <div class="radio-option">
                <input type="radio" id="t2" name="timing" value="×‘×—×•×“×© ×”×§×¨×•×‘">
                <label for="t2">×‘×—×•×“×© ×”×§×¨×•×‘</label>
              </div>
              <div class="radio-option">
                <input type="radio" id="t3" name="timing" value="×’××™×©">
                <label for="t3">×’××™×©</label>
              </div>
            </div>
          </div>
          
          <div class="form-group">
            <label>××©×š ××¤×’×© ××•×¢×“×£</label>
            <select id="duration">
              <option value="45 ×“×§×•×ª">45 ×“×§×•×ª</option>
              <option value="60 ×“×§×•×ª">60 ×“×§×•×ª</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>ğŸ“‹ ×™×© ×œ×›× ×‘×™×˜×•×— ×‘×¨×™××•×ª ×¤×¨×˜×™?</label>
            <div class="radio-group">
              <div class="radio-option">
                <input type="radio" id="ins-yes" name="hasIns" value="×›×Ÿ">
                <label for="ins-yes">×›×Ÿ</label>
              </div>
              <div class="radio-option">
                <input type="radio" id="ins-no" name="hasIns" value="×œ×" checked>
                <label for="ins-no">×œ×</label>
              </div>
            </div>
          </div>
          
          <!-- ×”×•×“×¢×” ×× ×™×© ×‘×™×˜×•×— -->
          <div class="alert alert-success" id="insAlert">
            <div class="alert-icon">ğŸ’¡</div>
            <div>
              <div class="alert-title">××¢×•×œ×”!</div>
              <div class="alert-text">××œ ×ª×©×›×—×• ×œ×××© ××ª ×”×–×›×•×™×•×ª ×”×‘×™×˜×•×—×™×•×ª ×©×œ×›×. × ×©××— ×œ×¢×–×•×¨ ×œ×›× ×¢× ×”×”×œ×™×š.</div>
            </div>
          </div>
          
          <!-- ×©××œ×” × ×•×¡×¤×ª ×× ××™×Ÿ ×‘×™×˜×•×— -->
          <div class="form-group" id="offerGroup">
            <label>ğŸ’¼ ×ª×¨×¦×• ×©× ×¦×™×’ ×‘×™×˜×•×— ×™×™×¦×•×¨ ××™×ª×›× ×§×©×¨?</label>
            <div class="radio-group">
              <div class="radio-option">
                <input type="radio" id="off-yes" name="wantOffer" value="×›×Ÿ, ××©××— ×œ×”×¦×¢×”">
                <label for="off-yes">×›×Ÿ, ××©××—</label>
              </div>
              <div class="radio-option">
                <input type="radio" id="off-no" name="wantOffer" value="×œ× ×ª×•×“×” (×œ× ×¨×œ×•×•× ×˜×™)" checked>
                <label for="off-no">×œ× ×ª×•×“×”</label>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Consent Box -->
        <div class="consent-box">
          <label class="consent-checkbox">
            <input type="checkbox" id="consent" required>
            <div class="consent-text">
              <strong>×× ×™ ×××©×¨/×ª:</strong>
              <ul>
                <li>FlowMatch ×”×™× ×¤×œ×˜×¤×•×¨××ª ×”×ª×××” ×‘×œ×‘×“ ×•××™× ×” ×¡×¤×§×™×ª ×©×™×¨×•×ª×™ ×‘×¨×™××•×ª</li>
                <li>×”××™×“×¢ ××•×¢×‘×¨ ×œ××˜×¤×œ×™× ×¨×œ×•×•× ×˜×™×™× ×•××•×—×§ ××”××¢×¨×›×ª ×ª×•×š 30 ×™×•×</li>
                <li>×¢×œ×™×™ ×œ×”×ª×™×™×¢×¥ ×¢× ××™×©/×ª ××§×¦×•×¢ ××•×¨×©×” ×œ×¤× ×™ ×§×‘×œ×ª ×”×—×œ×˜×•×ª ×˜×™×¤×•×œ×™×•×ª</li>
                <li>×§×¨××ª×™ ××ª <a href="#privacy" onclick="showPrivacy(); return false;">××“×™× ×™×•×ª ×”×¤×¨×˜×™×•×ª</a></li>
              </ul>
            </div>
          </label>
        </div>
        
        <!-- Submit -->
        <button type="submit" class="btn" id="submitBtn">
          <span>ğŸš€</span>
          ×©×œ×™×—×” ×•××¦×™××ª ×”×ª×××•×ª
        </button>
        
      </form>
      
      <!-- Loading -->
      <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>××¢×‘×“ ××ª ×”× ×ª×•× ×™× ×•××—×¤×© ×”×ª×××•×ª...</p>
      </div>
      
      <!-- Success -->
      <div class="success" id="success">
        <div class="success-icon">âœ…</div>
        <h2>×”×˜×•×¤×¡ × ×©×œ×— ×‘×”×¦×œ×—×”!</h2>
        <p>×ª×•×“×” ×¨×‘×”! × ×—×–×•×¨ ××œ×™×š ×‘×”×§×“× ×¢× ×”×ª×××•×ª ××“×•×™×§×•×ª.</p>
        <p style="margin-top: 12px; font-size: 0.9rem;">×”××™×“×¢ ×™×™×©××¨ ×‘××¢×¨×›×ª ×œ××©×š 30 ×™×•× ×‘×œ×‘×“.</p>
      </div>
    </div>
  </div>
  
  <!-- Toast -->
  <div class="toast" id="toast">
    <span>âŒ</span>
    <span id="toastMsg"></span>
  </div>
  
  <script>
    // Config
    // âœ… Google Form Config - FINAL & VERIFIED
    const CONFIG = {
      url: 'https://docs.google.com/forms/d/e/1FAIpQLSfSHU7BpvfY0ExW1JSk3QdXmPVof08EoWaGAiKaf2fiZmZ9BQ/formResponse',
      entries: {
        childName: 'entry.1874755091',
        parentName: 'entry.501366501',
        phone: 'entry.2054465157',
        age: 'entry.1479557102',
        region: 'entry.1519777934',
        language: 'entry.2044023557',
        therapy: 'entry.921962628',
        subSpecs: 'entry.792546451',
        difficulty: 'entry.267290518',
        preferences: 'entry.1975016513',  // Multi-select
        timing: 'entry.1909228234',
        duration: 'entry.1540815796',
        hasInsurance: 'entry.1018715973',
        wantOffer: 'entry.2043347683'
        // NOTE: entry.171718301 removed - no longer collecting insurance details
      }
    };
    
    const SUBS = {
      '×§×œ×™× ××•×ª ×ª×§×©×•×¨×ª': ['×”×¤×¨×¢×•×ª ×”×™×’×•×™', '×§×©×™×™ ×©×¤×”', '×’××’×•×', '×¢×™×›×•×‘ ×©×¤×ª×™'],
      '×¨×™×¤×•×™ ×‘×¢×™×¡×•×§': ['×•×™×¡×•×ª ×—×•×©×™', '××•×˜×•×¨×™×§×” ×¢×“×™× ×”', '××•×˜×•×¨×™×§×” ×’×¡×”', '×§×©×‘ ×•×¨×™×›×•×–'],
      '×¤×™×–×™×•×ª×¨×¤×™×”': ['×©×™×•×•×™ ××©×§×œ', '×›×•×— ×©×¨×™×¨×™×', '×’××™×©×•×ª'],
      '×˜×™×¤×•×œ ×¨×’×©×™': ['×—×¨×“×•×ª', '×§×©×™×™ ×”×¡×ª×’×œ×•×ª', '×•×™×¡×•×ª ×¨×’×©×™', '×”×ª× ×”×’×•×ª']
    };
    
    let selectedSubs = [];
    
    // Progress
    function updateProgress() {
      const req = document.querySelectorAll('[required]');
      let filled = 0;
      req.forEach(el => {
        if (el.type === 'checkbox') {
          if (el.checked) filled++;
        } else if (el.value && el.value.trim()) {
          filled++;
        }
      });
      const pct = Math.round((filled / req.length) * 100);
      document.getElementById('progress').style.width = pct + '%';
      document.getElementById('pct').textContent = pct + '%';
    }
    
    // Toast
    function showToast(msg) {
      const toast = document.getElementById('toast');
      document.getElementById('toastMsg').textContent = msg;
      setTimeout(() => toast.classList.add('show'), 100);
      setTimeout(() => toast.classList.remove('show'), 3000);
    }
    
    // Privacy Policy Modal
    function showPrivacy() {
      alert(`××“×™× ×™×•×ª ×¤×¨×˜×™×•×ª - FlowMatch

××” ×× ×—× ×• ××•×¡×¤×™×?
â€¢ ×©× ×•××¡×¤×¨ ×˜×œ×¤×•×Ÿ (×œ×™×¦×™×¨×ª ×§×©×¨)
â€¢ ××–×•×¨ ××’×•×¨×™× (×œ××¦×™××ª ××˜×¤×œ×™× ×‘××–×•×¨)
â€¢ ×”×¢×“×¤×•×ª ×›×œ×œ×™×•×ª (×¡×•×’ ××§×¦×•×¢, ×–××™× ×•×ª)

××” ×× ×—× ×• ×œ× ××•×¡×¤×™×?
â€¢ ×ª×™×§ ×¨×¤×•××™ ××• ×¨×©×•××•×ª ×¨×¤×•××™×•×ª
â€¢ ××‘×—× ×•×ª ×¨×¤×•××™×•×ª ××¤×•×¨×˜×•×ª
â€¢ ××™×“×¢ ×¨×’×™×© ××¢×‘×¨ ×œ××™× ×™××•× ×”× ×“×¨×©

××” ×× ×—× ×• ×¢×•×©×™× ×¢× ×”××™×“×¢?
â€¢ ××¢×‘×™×¨×™× ××•×ª×• ×œ××˜×¤×œ×™× ××ª××™××™× ×‘××–×•×¨×›×
â€¢ ××•×—×§×™× ××•×˜×•××˜×™×ª ××—×¨×™ 30 ×™×•×

×”×× ×× ×—× ×• ×©×•××¨×™× ××™×“×¢ ×¨×¤×•××™?
×œ×. FlowMatch ×”×™× ×¤×œ×˜×¤×•×¨××ª ×”×ª×××” ×‘×œ×‘×“, ×œ× ×¡×¤×§×™×ª ×©×™×¨×•×ª×™ ×‘×¨×™××•×ª.

××™×š ×œ××—×•×§ ××ª ×”××™×“×¢ ×©×œ×š?
×©×œ×— ××™×™×œ ×œ-privacy@flowmatch.co.il

×¢×“×›×•×Ÿ ××—×¨×•×Ÿ: ×“×¦××‘×¨ 2024`);
    }
    
    // Sub-specs
    document.getElementById('therapy').addEventListener('change', function() {
      const container = document.getElementById('subContainer');
      const chips = document.getElementById('subChips');
      selectedSubs = [];
      chips.innerHTML = '';
      
      if (this.value && SUBS[this.value]) {
        container.classList.add('show');
        SUBS[this.value].forEach((spec, i) => {
          const id = 's' + i;
          const div = document.createElement('div');
          div.className = 'checkbox-chip';
          div.innerHTML = `
            <input type="checkbox" id="${id}" value="${spec}">
            <label for="${id}">${spec}</label>
          `;
          div.querySelector('input').addEventListener('change', function() {
            if (this.checked) {
              selectedSubs.push(spec);
            } else {
              selectedSubs = selectedSubs.filter(s => s !== spec);
            }
          });
          chips.appendChild(div);
        });
      } else {
        container.classList.remove('show');
      }
    });
    
    // Insurance logic
    document.querySelectorAll('[name="hasIns"]').forEach(radio => {
      radio.addEventListener('change', function() {
        const alert = document.getElementById('insAlert');
        const offerGroup = document.getElementById('offerGroup');
        
        if (this.value === '×›×Ÿ') {
          alert.classList.add('show');
          offerGroup.style.display = 'none';
        } else {
          alert.classList.remove('show');
          offerGroup.style.display = 'block';
        }
      });
    });
    
    // Form submit
    document.getElementById('form').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      // Validate consent
      if (!document.getElementById('consent').checked) {
        showToast('×× × ××©×¨/×™ ××ª ×ª× ××™ ×”×©×™××•×© ×•××“×™× ×™×•×ª ×”×¤×¨×˜×™×•×ª');
        return;
      }
      
      // Validate required
      if (!document.getElementById('parentName').value.trim()) {
        showToast('×× × ×”×–×Ÿ/×™ ××ª ×©××š');
        return;
      }
      if (!document.getElementById('phone').value.trim()) {
        showToast('×× × ×”×–×Ÿ/×™ ××¡×¤×¨ ×˜×œ×¤×•×Ÿ');
        return;
      }
      if (!document.getElementById('age').value) {
        showToast('×× × ×‘×—×¨/×™ ×’×™×œ ×”×™×œ×“');
        return;
      }
      if (!document.getElementById('region').value) {
        showToast('×× × ×‘×—×¨/×™ ××–×•×¨');
        return;
      }
      if (!document.getElementById('therapy').value) {
        showToast('×× × ×‘×—×¨/×™ ××§×¦×•×¢');
        return;
      }
      
      // Show loading
      document.querySelector('form').style.display = 'none';
      document.getElementById('loading').classList.add('show');
      
      // Get preferences
      const prefs = [];
      document.querySelectorAll('.checkbox-chips input:checked').forEach(cb => {
        if (cb.id.startsWith('p')) {
          prefs.push(cb.value);
        }
      });
      
      // Prepare data
      const formData = new FormData();
      formData.append(CONFIG.entries.childName, document.getElementById('childName').value);
      formData.append(CONFIG.entries.parentName, document.getElementById('parentName').value);
      formData.append(CONFIG.entries.phone, document.getElementById('phone').value);
      formData.append(CONFIG.entries.age, document.getElementById('age').value);
      formData.append(CONFIG.entries.region, document.getElementById('region').value);
      formData.append(CONFIG.entries.language, document.getElementById('language').value);
      formData.append(CONFIG.entries.therapy, document.getElementById('therapy').value);
      formData.append(CONFIG.entries.subSpecs, selectedSubs.join(', ') || '×œ× ×¨×œ×•×•× ×˜×™');
      formData.append(CONFIG.entries.difficulty, document.getElementById('difficulty').value);
      
      // Multi-select preferences
      prefs.forEach(pref => {
        formData.append(CONFIG.entries.preferences, pref);
      });
      
      formData.append(CONFIG.entries.timing, document.querySelector('[name="timing"]:checked').value);
      formData.append(CONFIG.entries.duration, document.getElementById('duration').value);
      
      // Insurance
      const hasIns = document.querySelector('[name="hasIns"]:checked').value;
      formData.append(CONFIG.entries.hasInsurance, hasIns);
      
      if (hasIns === '×›×Ÿ') {
        formData.append(CONFIG.entries.wantOffer, '×œ× ×¨×œ×•×•× ×˜×™');
      } else {
        const wantOffer = document.querySelector('[name="wantOffer"]:checked').value;
        formData.append(CONFIG.entries.wantOffer, wantOffer);
      }
      
      try {
        // Create iframe for submission (better CORS handling)
        const iframe = document.createElement('iframe');
        iframe.name = 'hidden_iframe';
        iframe.style.display = 'none';
        document.body.appendChild(iframe);
        
        // Create actual form element
        const actualForm = document.createElement('form');
        actualForm.action = CONFIG.url;
        actualForm.method = 'POST';
        actualForm.target = 'hidden_iframe';
        
        // Add all form data as hidden inputs
        for (let [key, value] of formData.entries()) {
          const input = document.createElement('input');
          input.type = 'hidden';
          input.name = key;
          input.value = value;
          actualForm.appendChild(input);
        }
        
        // Submit form
        document.body.appendChild(actualForm);
        actualForm.submit();
        
        // Show success after delay
        setTimeout(() => {
          document.getElementById('loading').classList.remove('show');
          document.getElementById('success').classList.add('show');
          document.body.removeChild(actualForm);
          document.body.removeChild(iframe);
        }, 2000);
        
      } catch (err) {
        console.error(err);
        showToast('×©×’×™××” ×‘×©×œ×™×—×”. × ×¡×”/×™ ×©×•×‘');
        document.getElementById('loading').classList.remove('show');
        document.querySelector('form').style.display = 'block';
      }
    });
    
    // Track progress
    document.querySelectorAll('input, select, textarea').forEach(el => {
      el.addEventListener('input', updateProgress);
      el.addEventListener('change', updateProgress);
    });
    
    // Animate sections
    window.addEventListener('load', () => {
      document.querySelectorAll('.section').forEach((sec, i) => {
        setTimeout(() => sec.classList.add('visible'), i * 150);
      });
    });
    
    updateProgress();
  </script>
</body>
</html>
